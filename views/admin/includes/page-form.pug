div(class="row")
  div(class="col-md-8")
    .form-group
      label(for="name") Page Name
      input(id="name", name="name", type="text", value= page.name, placeholder="Enter a display name for your page", class="form-control", required)
    .form-group
      label(for="path") Page URL
      .input-group
        .input-group-prepend
          span(class="input-group-text")= url
        input(id="path", name="path", type="text", value= page.path, placeholder="Choose a path for your page starting with /", class="form-control", required)

    .form-group
      label(for="sections") Sections
      #sections
        each s, id in page.sections
          .card.position-relative.mb-3
            .card-body
              a(class="float-right" title="Edit Section", href="/sections/edit/" + id)
                i(class="fa fa-edit")
              h5= s.name
              .section-snapshot-container
                .section-snapshot
                  case s.type
                    when "cart"
                      include ./../../public/includes/cart
                    when "checkout"
                      include ./../../public/includes/checkout
                    when "jumbotron"
                      include ./../../public/includes/jumbotron
                    when "product"
                      include ./../../public/includes/product
              span(class="badge badge-secondary") #{s.type.replace(/^\w/, c => c.toUpperCase())}

script
  include page.js